import{U as q,V as M,W as T,b as o,Q as y,j as r,X as N,r as b,E as m,S as k,Y as W}from"./jsx-runtime_commonjs-proxy.js";var w={},G=M;Object.defineProperty(w,"__esModule",{value:!0});var S=w.default=void 0,V=G(q()),F=T;S=w.default=(0,V.default)((0,F.jsx)("path",{d:"M3 3v18h18V3zm14 12.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"DisabledByDefault");function $({optionId:t,option:e,selected:l,onSelect:n,selectedAny:c,quizId:f,handleQuizSelect:x,scores:a,handleScores:u}){const g=()=>{l||(n(t),e.isCorrect==="1"&&u(a+1)),c||x(f)};let d="gray",i="";return c&&e.isCorrect==="1"?(d="green",i="success"):l&&e.isCorrect==="0"&&(d="red",i="error"),o(y,{children:[c?i==="error"?r(N,{color:"error",checkedIcon:r(S,{}),checked:l,style:{transform:"scale(1.4)"}}):r(N,{color:"success",checked:l,style:{transform:"scale(1.4)"}}):i==="error"?r(N,{color:"error",checkedIcon:r(S,{}),checked:l,onChange:g,style:{transform:"scale(1.4)"}}):r(N,{color:"success",checked:l,onChange:g,style:{transform:"scale(1.4)"}}),r("p",{className:"border-2 w-full p-2 rounded-md text-slate-950 text-sm",style:{borderColor:d},children:e.value})]})}function X({options:t,selectedAny:e,handleQuizSelect:l,quizId:n,handleScores:c,scores:f}){const[x,a]=b.useState({}),u=d=>{a(i=>({...i,[n]:[...i[n]||[],d]}))},g=d=>{var i;return((i=x[n])==null?void 0:i.includes(d))||!1};return r(y,{children:t.map((d,i)=>r("div",{className:"flex items-center gap-3",children:r($,{optionId:i,option:d,selected:g(i),onSelect:u,selectedAny:e,handleQuizSelect:l,quizId:n,scores:f,handleScores:c})},i))})}var z={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O=m.createContext&&m.createContext(z),h=globalThis&&globalThis.__assign||function(){return h=Object.assign||function(t){for(var e,l=1,n=arguments.length;l<n;l++){e=arguments[l];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},h.apply(this,arguments)},Y=globalThis&&globalThis.__rest||function(t,e){var l={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(l[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,n=Object.getOwnPropertySymbols(t);c<n.length;c++)e.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(t,n[c])&&(l[n[c]]=t[n[c]]);return l};function I(t){return t&&t.map(function(e,l){return m.createElement(e.tag,h({key:l},e.attr),I(e.child))})}function A(t){return function(e){return m.createElement(J,h({attr:h({},t.attr)},e),I(t.child))}}function J(t){var e=function(l){var n=t.attr,c=t.size,f=t.title,x=Y(t,["attr","size","title"]),a=c||l.size||"1em",u;return l.className&&(u=l.className),t.className&&(u=(u?u+" ":"")+t.className),m.createElement("svg",h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,n,x,{className:u,style:h(h({color:t.color||l.color},l.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),f&&m.createElement("title",null,f),t.children)};return O!==void 0?m.createElement(O.Consumer,null,function(l){return e(l)}):e(z)}function U(t){return A({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zM142.1 273l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L226.9 256l101.6-101.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L142.1 239c-9.4 9.4-9.4 24.6 0 34z"}}]})(t)}function D(t){var j;const[e,l]=b.useState(),[n,c]=b.useState(0),[f,x]=b.useState([]),[a,u]=b.useState(0),[g,d]=b.useState(!1),i=t.id,Q=window.userLocalize.home_url,B=s=>{x(R=>[...R,s])},P=s=>f.includes(s);b.useEffect(()=>{k.interceptors.request.use(function(s){return s.headers["X-WP-Nonce"]=window.userLocalize.nonce,s},function(s){return Promise.reject(s)}),k.get(Q+`/wp-json/quizbit/v1/quiz/0/id/${i}`).then(s=>{l(s.data.data)}).catch(s=>{console.error(s)})},[]);const v=(e==null?void 0:e.questions.length)||0,E=s=>{s&&e&&e.questions&&n<e.questions.length-1?c(n+1):!s&&n>0&&c(n-1)},p=["Very Bad!","Bad!","Good!","Very Good!","Excellent!"],L=s=>{if(s=Math.round(s*100/v),s<=20)return p[0];if(s>20&&s<=40)return p[1];if(s>40&&s<=60)return p[2];if(s>60&&s<=80)return p[3];if(s>80&&s<=100)return p[4]};return e?r("div",{children:r("div",{className:"flex justify-center",children:o("div",{className:"w-full max-w-md p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-8",children:[g?o(y,{children:[r("h1",{className:"text-5xl text-bold text-center",children:L(a)}),o("div",{className:"mt-20 mb-10",children:[r("h1",{className:"text-2xl font-semibold my-4",children:"Your Scores"}),o("div",{className:"flex justify-between",children:[o("div",{className:"flex items-baseline text-gray-900",children:[r("span",{className:"text-7xl font-extrabold tracking-tight",children:a}),o("span",{className:"ml-1 text-5xl font-bold text-gray-500",children:["/",v]})]}),r("div",{className:"flex flex-col items-center",children:o("ul",{children:[o("li",{className:"text-[#22C55E] text-2xl font-medium list-outside list-disc ml-6",children:["Correct - ",a]}),o("li",{className:"text-[#EF4444] text-2xl font-medium list-outside list-disc ml-6",children:["Wrong - ",f.length-a]}),o("li",{className:"text-[#6B7280] text-2xl font-medium list-outside list-disc ml-6",children:["Skippped - ",v-f.length]})]})})]})]})]}):o(y,{children:[r("h5",{className:"mb-4 text-center text-3xl text-slate-950 font-bold tracking-tight",children:e==null?void 0:e.title}),r("hr",{className:"h-px my-6 bg-gray-700 border-0"}),r("h5",{className:"mb-4 text-md text-slate-950 font-bold tracking-tight",children:e==null?void 0:e.questions[n].title}),o("div",{children:[o("div",{className:"flex items-start",children:[o("h2",{className:"font-bold text-[#6E6E6E]",children:["Question ",n+1]}),r("button",{className:"ml-auto",onClick:()=>E(!1),children:r(U,{style:{fontSize:"28px",color:n?"#000000":"#6E6E6E"}})})]}),r("div",{className:"flex flex-col gap-4 my-5",children:((j=e==null?void 0:e.questions[n])==null?void 0:j.options)&&r(X,{options:e==null?void 0:e.questions[n].options,selectedAny:P(n),handleQuizSelect:B,quizId:n,scores:a,handleScores:u})})]})]}),n<v-1&&r("button",{type:"button",className:"bg-[#000000] focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-sm px-5 py-4 inline-flex justify-center w-full text-center text-[#ffffff]",onClick:()=>E(!0),children:"Next"}),n===v-1&&!g&&r("button",{type:"button",className:"bg-[#000000] focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-sm px-5 py-4 inline-flex justify-center w-full text-center text-[#ffffff]",onClick:()=>d(!0),children:"Submit"})]})})}):r(y,{})}function H(t){const{id:e}=t;return r(y,{children:r(D,{id:e})})}const C="quizbit-quiz-card",K=W.createRoot(document.getElementById(C));var _;const Z=(_=document.getElementById(C))==null?void 0:_.getAttribute(C),ee=JSON.parse(Z||"{}");K.render(r(m.StrictMode,{children:r(H,{...ee})}));
